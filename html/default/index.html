<!DOCTYPE html>
<html>

<head>
  <title>FileTea, anonymous, volatile file sharing</title>

  <link type="text/css" href="main.css" rel="Stylesheet" />

  <!-- require.js -->
  <script type="text/javascript" src="../common/require.js"></script>

  <!-- JQuery UI -->
  <link type="text/css" href="jquery-ui/css/start/jquery-ui-1.8.9.custom.css" rel="Stylesheet" />
  <script type="text/javascript" src="../common/jquery-1.4.4.min.js"></script>
  <script type="text/javascript" src="jquery-ui/js/jquery-ui-1.8.9.custom.min.js"></script>

  <!-- EventDance -->
  <script type="text/javascript" src="/transport/evdWebTransport.js"></script>

  <!-- FileTea -->
  <script type="text/javascript" src="../common/fileTea.js"></script>

  <script type="text/javascript">

$ (function () {
    var $tabs = $ ("#tabs");

    Ft.content.add ("shared-files", "Shared files", "", null, null, {static: true});
    Ft.content.add ("privacy-policy", "Privacy policy", "../common/privacy-policy.html", null, null);

    Ft.content.setDefault ("shared-files");
});

  </script>
</head>

<body>
  <div class="corner-banner"><div>alpha</div></div>
  <div id="header">
    <div id="logo">FileTea</div>
    <div id="slogan">Anonymous, volatile file sharing</div>
  </div>

  <div id="content">

  <div id="tabs">
    <ul>
      <li><a href="#shared-files">Shared files</a></li>
<!--      <li><a href="#transfers">Transfers</a></li> -->
    </ul>

    <div id="shared-files">
      <link type="text/css" href="shared-files-view.css" rel="Stylesheet" />
      <input type="file" multiple="true" id="shared-files-selector"/>
      <button id="share-files-btn" onclick="$ ('#shared-files-selector').get(0).click()">Add files</button>
      <div id="shared-files-list">
        <div id="shared-files-list-empty-notice">
          <p class="title">No files shared!</p>
          <p class="comment">To share files use the 'Add files' button above or just drag-and-drop them into the page</p>
        </div>
      </div>

      <script type="text/javascript">

$ (function () {
    require (["sharedFilesView.js"], function (SharedFilesView) {
        var fileSourcesView = new SharedFilesView ({
            parentElement: $ ("#shared-files-list").get(0),
            fileSources: Ft.files
        });

        fileSourcesView.addEventListener ("item-added",
            function () {
                Ft.content.open ("shared-files");
            });
    });
});

      </script>
    </div>

<!--
    <div id="transfers">
      <p>@TODO</p>
    </div>
-->
  </div>

  </div>

  <div id="footer">
    <ul id="list">
      <li>
        <p>
          <a href="#privacy-policy">Privacy Policy</a>
        </p>

        <p>
          Running
          <a target="filetea_ext" href="https://gitorious.org/filetea/filetea">FileTea</a> version 0.1.2 available under the
          <a target="filetea_ext" href="http://www.gnu.org/licenses/agpl-3.0.html">GNU Affero General Public License</a>
        </p>
      </li>

      <li id="powered-box">
        <div>
          <p>
          Powered by
          </p>
          <a target="filetea_ext" title="HTML5" href="http://en.wikipedia.org/wiki/HTML5"><img border="0" src="../common/html5_logo_32.png"/></a>
        </div>
      </li>
    </ul>
  </div>

</body>
</html>
